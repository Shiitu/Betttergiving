{"ast":null,"code":"import React,{useContext,useEffect}from'react';import Blogs from'../components/Blogs';import Testimonials from'../components/Testimonials';import AdminNavbar from'../components/AdminNavbar';import{PageContext}from'../state/PageState';import useGetUser from'../hooks/useGetUser';import{useNavigate}from'react-router-dom';import axios from'axios';import MakeAdmin from'../components/MakeAdmin';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{// const [user, setUser] = useGetUser({})\nconst{page}=useContext(PageContext);const navigate=useNavigate();useEffect(()=>{// console.log({user});\n// if (user.user) {\nif(!localStorage.getItem(\"token\")){navigate(\"/\");}else{const getUser=async()=>{const res=await axios({method:\"get\",url:\"http://localhost:5000/api/user/getUser\",headers:{authToken:localStorage.getItem(\"token\")}});if(res.data.User.role===\"NORMAL\"){navigate(\"/\");console.log(res.data.User);}else{// alert(\"Could not get User\")\n}};getUser();}// }\n},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AdminNavbar,{}),page===\"blog\"?/*#__PURE__*/_jsx(Blogs,{}):page===\"makeAdmin\"?/*#__PURE__*/_jsx(MakeAdmin,{}):/*#__PURE__*/_jsx(Testimonials,{})]});};export default Dashboard;","map":{"version":3,"names":["React","useContext","useEffect","Blogs","Testimonials","AdminNavbar","PageContext","useGetUser","useNavigate","axios","MakeAdmin","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Dashboard","page","navigate","localStorage","getItem","getUser","res","method","url","headers","authToken","data","User","role","console","log","children"],"sources":["/Users/shubhamkumar/Desktop/Better/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useContext, useEffect } from 'react'\nimport Blogs from '../components/Blogs'\nimport Testimonials from '../components/Testimonials'\nimport AdminNavbar from '../components/AdminNavbar'\nimport { PageContext } from '../state/PageState'\nimport useGetUser from '../hooks/useGetUser'\nimport { useNavigate } from 'react-router-dom'\nimport axios from 'axios'\nimport MakeAdmin from '../components/MakeAdmin'\n\nconst Dashboard = () => {\n  // const [user, setUser] = useGetUser({})\n  const { page } = useContext(PageContext)\n  const navigate = useNavigate()\n  useEffect(()=>{\n    // console.log({user});\n    // if (user.user) {\n      \n      if(!localStorage.getItem(\"token\")){\n        navigate(\"/\")\n      }else {\n        const getUser = async() => {\n          const res = await axios({\n              method : \"get\",\n              url : \"http://localhost:5000/api/user/getUser\",\n              headers : {\n                  authToken : localStorage.getItem(\"token\")\n              }\n          })\n          if (res.data.User.role === \"NORMAL\") {\n              navigate(\"/\")\n              console.log(res.data.User)\n          }\n          else {\n              // alert(\"Could not get User\")\n          }\n      }\n      getUser()\n      \n      }\n    // }\n  }, [])\n  return (\n    <>\n        <AdminNavbar />\n        {\n          page === \"blog\"?\n          <Blogs /> : page === \"makeAdmin\" ?  <MakeAdmin />  : <Testimonials />\n        }\n    </>\n  )\n}\n\nexport default Dashboard"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACpD,MAAO,CAAAC,KAAK,KAAM,qBAAqB,CACvC,MAAO,CAAAC,YAAY,KAAM,4BAA4B,CACrD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,OAASC,WAAW,KAAQ,oBAAoB,CAChD,MAAO,CAAAC,UAAU,KAAM,qBAAqB,CAC5C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,SAAS,KAAM,yBAAyB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB;AACA,KAAM,CAAEC,IAAK,CAAC,CAAGjB,UAAU,CAACK,WAAW,CAAC,CACxC,KAAM,CAAAa,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9BN,SAAS,CAAC,IAAI,CACZ;AACA;AAEE,GAAG,CAACkB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAChCF,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,IAAK,CACJ,KAAM,CAAAG,OAAO,CAAG,KAAAA,CAAA,GAAW,CACzB,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAd,KAAK,CAAC,CACpBe,MAAM,CAAG,KAAK,CACdC,GAAG,CAAG,wCAAwC,CAC9CC,OAAO,CAAG,CACNC,SAAS,CAAGP,YAAY,CAACC,OAAO,CAAC,OAAO,CAC5C,CACJ,CAAC,CAAC,CACF,GAAIE,GAAG,CAACK,IAAI,CAACC,IAAI,CAACC,IAAI,GAAK,QAAQ,CAAE,CACjCX,QAAQ,CAAC,GAAG,CAAC,CACbY,OAAO,CAACC,GAAG,CAACT,GAAG,CAACK,IAAI,CAACC,IAAI,CAAC,CAC9B,CAAC,IACI,CACD;AAAA,CAER,CAAC,CACDP,OAAO,CAAC,CAAC,CAET,CACF;AACF,CAAC,CAAE,EAAE,CAAC,CACN,mBACEN,KAAA,CAAAF,SAAA,EAAAmB,QAAA,eACIrB,IAAA,CAACP,WAAW,GAAE,CAAC,CAEba,IAAI,GAAK,MAAM,cACfN,IAAA,CAACT,KAAK,GAAE,CAAC,CAAGe,IAAI,GAAK,WAAW,cAAIN,IAAA,CAACF,SAAS,GAAE,CAAC,cAAIE,IAAA,CAACR,YAAY,GAAE,CAAC,EAEzE,CAAC,CAEP,CAAC,CAED,cAAe,CAAAa,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}