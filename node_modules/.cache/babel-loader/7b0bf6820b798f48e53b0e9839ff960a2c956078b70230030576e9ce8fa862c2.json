{"ast":null,"code":"import axios from'axios';import React,{useEffect,useState}from'react';import{createContext}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export const UserContext=/*#__PURE__*/createContext(null);const UserState=props=>{const[user,setUser]=useState();useEffect(()=>{// console.log({user});\n// if (user.user) {\nif(!localStorage.getItem(\"token\")){// navigate(\"/\")\n}else{const getUser=async()=>{const res=await axios({method:\"get\",url:\"http://localhost:5000/api/user/getUser\",headers:{authToken:localStorage.getItem(\"token\")}});setUser(res.data.User);};getUser();}},[]);return/*#__PURE__*/_jsx(UserContext.Provider,{value:{user},children:props.children});};export default UserState;","map":{"version":3,"names":["axios","React","useEffect","useState","createContext","jsx","_jsx","UserContext","UserState","props","user","setUser","localStorage","getItem","getUser","res","method","url","headers","authToken","data","User","Provider","value","children"],"sources":["/Users/shubhamkumar/Desktop/Better/src/state/UserState.js"],"sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport { createContext } from \"react\";\n\n\nexport const UserContext = createContext(null)\n\n\nconst UserState = (props) => {\n    const [user, setUser] = useState()\n    useEffect(()=>{\n        // console.log({user});\n        // if (user.user) {\n          \n          if(!localStorage.getItem(\"token\")){\n            // navigate(\"/\")\n          }else {\n            const getUser = async() => {\n              const res = await axios({\n                  method : \"get\",\n                  url : \"http://localhost:5000/api/user/getUser\",\n                  headers : {\n                      authToken : localStorage.getItem(\"token\")\n                  }\n              })\n              setUser(res.data.User)\n          }\n          getUser()\n          \n          }\n      }, [])\n\n  return (\n    <UserContext.Provider value={{user}}>\n        {props.children}\n    </UserContext.Provider>\n  )\n}\n\nexport default UserState"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,aAAa,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAGtC,MAAO,MAAM,CAAAC,WAAW,cAAGH,aAAa,CAAC,IAAI,CAAC,CAG9C,KAAM,CAAAI,SAAS,CAAIC,KAAK,EAAK,CACzB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,CAAC,CAClCD,SAAS,CAAC,IAAI,CACV;AACA;AAEE,GAAG,CAACU,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAChC;AAAA,CACD,IAAK,CACJ,KAAM,CAAAC,OAAO,CAAG,KAAAA,CAAA,GAAW,CACzB,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAf,KAAK,CAAC,CACpBgB,MAAM,CAAG,KAAK,CACdC,GAAG,CAAG,wCAAwC,CAC9CC,OAAO,CAAG,CACNC,SAAS,CAAGP,YAAY,CAACC,OAAO,CAAC,OAAO,CAC5C,CACJ,CAAC,CAAC,CACFF,OAAO,CAACI,GAAG,CAACK,IAAI,CAACC,IAAI,CAAC,CAC1B,CAAC,CACDP,OAAO,CAAC,CAAC,CAET,CACJ,CAAC,CAAE,EAAE,CAAC,CAEV,mBACER,IAAA,CAACC,WAAW,CAACe,QAAQ,EAACC,KAAK,CAAE,CAACb,IAAI,CAAE,CAAAc,QAAA,CAC/Bf,KAAK,CAACe,QAAQ,CACG,CAAC,CAE3B,CAAC,CAED,cAAe,CAAAhB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}