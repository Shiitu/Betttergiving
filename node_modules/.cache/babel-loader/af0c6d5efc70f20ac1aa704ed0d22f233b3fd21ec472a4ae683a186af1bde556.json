{"ast":null,"code":"var _jsxFileName = \"/Users/shubhamkumar/Desktop/better-giving/src/pages/Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect } from 'react';\nimport Blogs from '../components/Blogs';\nimport Testimonials from '../components/Testimonials';\nimport AdminNavbar from '../components/AdminNavbar';\nimport { PageContext } from '../state/PageState';\nimport useGetUser from '../hooks/useGetUser';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport MakeAdmin from '../components/MakeAdmin';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  // const [user, setUser] = useGetUser({})\n  const {\n    page\n  } = useContext(PageContext);\n  const navigate = useNavigate();\n  useEffect(() => {\n    // console.log({user});\n    // if (user.user) {\n\n    if (!localStorage.getItem(\"token\")) {\n      navigate(\"/\");\n    } else {\n      const getUser = async () => {\n        const res = await axios({\n          method: \"get\",\n          url: \"http://localhost:5000/api/user/getUser\",\n          headers: {\n            authToken: localStorage.getItem(\"token\")\n          }\n        });\n        if (res.data.User.role === \"NORMAL\") {\n          navigate(\"/\");\n          console.log(res.data.User);\n        } else {\n          // alert(\"Could not get User\")\n        }\n      };\n      getUser();\n    }\n    // }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(AdminNavbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), page === \"blog\" ? /*#__PURE__*/_jsxDEV(Blogs, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }, this) : page === \"makeAdmin\" ? /*#__PURE__*/_jsxDEV(MakeAdmin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 47\n    }, this) : /*#__PURE__*/_jsxDEV(Testimonials, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 64\n    }, this)]\n  }, void 0, true);\n};\n_s(Dashboard, \"O4Yye94M+RCKdYW/WkKDgjb2TIE=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useContext","useEffect","Blogs","Testimonials","AdminNavbar","PageContext","useGetUser","useNavigate","axios","MakeAdmin","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","page","navigate","localStorage","getItem","getUser","res","method","url","headers","authToken","data","User","role","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/shubhamkumar/Desktop/better-giving/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useContext, useEffect } from 'react'\nimport Blogs from '../components/Blogs'\nimport Testimonials from '../components/Testimonials'\nimport AdminNavbar from '../components/AdminNavbar'\nimport { PageContext } from '../state/PageState'\nimport useGetUser from '../hooks/useGetUser'\nimport { useNavigate } from 'react-router-dom'\nimport axios from 'axios'\nimport MakeAdmin from '../components/MakeAdmin'\n\nconst Dashboard = () => {\n  // const [user, setUser] = useGetUser({})\n  const { page } = useContext(PageContext)\n  const navigate = useNavigate()\n  useEffect(()=>{\n    // console.log({user});\n    // if (user.user) {\n      \n      if(!localStorage.getItem(\"token\")){\n        navigate(\"/\")\n      }else {\n        const getUser = async() => {\n          const res = await axios({\n              method : \"get\",\n              url : \"http://localhost:5000/api/user/getUser\",\n              headers : {\n                  authToken : localStorage.getItem(\"token\")\n              }\n          })\n          if (res.data.User.role === \"NORMAL\") {\n              navigate(\"/\")\n              console.log(res.data.User)\n          }\n          else {\n              // alert(\"Could not get User\")\n          }\n      }\n      getUser()\n      \n      }\n    // }\n  }, [])\n  return (\n    <>\n        <AdminNavbar />\n        {\n          page === \"blog\"?\n          <Blogs /> : page === \"makeAdmin\" ?  <MakeAdmin />  : <Testimonials />\n        }\n    </>\n  )\n}\n\nexport default Dashboard"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AACpD,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,YAAY,MAAM,4BAA4B;AACrD,OAAOC,WAAW,MAAM,2BAA2B;AACnD,SAASC,WAAW,QAAQ,oBAAoB;AAChD,OAAOC,UAAU,MAAM,qBAAqB;AAC5C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,yBAAyB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE/C,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB;EACA,MAAM;IAAEC;EAAK,CAAC,GAAGhB,UAAU,CAACK,WAAW,CAAC;EACxC,MAAMY,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAC9BN,SAAS,CAAC,MAAI;IACZ;IACA;;IAEE,IAAG,CAACiB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAC;MAChCF,QAAQ,CAAC,GAAG,CAAC;IACf,CAAC,MAAK;MACJ,MAAMG,OAAO,GAAG,MAAAA,CAAA,KAAW;QACzB,MAAMC,GAAG,GAAG,MAAMb,KAAK,CAAC;UACpBc,MAAM,EAAG,KAAK;UACdC,GAAG,EAAG,wCAAwC;UAC9CC,OAAO,EAAG;YACNC,SAAS,EAAGP,YAAY,CAACC,OAAO,CAAC,OAAO;UAC5C;QACJ,CAAC,CAAC;QACF,IAAIE,GAAG,CAACK,IAAI,CAACC,IAAI,CAACC,IAAI,KAAK,QAAQ,EAAE;UACjCX,QAAQ,CAAC,GAAG,CAAC;UACbY,OAAO,CAACC,GAAG,CAACT,GAAG,CAACK,IAAI,CAACC,IAAI,CAAC;QAC9B,CAAC,MACI;UACD;QAAA;MAER,CAAC;MACDP,OAAO,CAAC,CAAC;IAET;IACF;EACF,CAAC,EAAE,EAAE,CAAC;EACN,oBACET,OAAA,CAAAE,SAAA;IAAAkB,QAAA,gBACIpB,OAAA,CAACP,WAAW;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAEbnB,IAAI,KAAK,MAAM,gBACfL,OAAA,CAACT,KAAK;MAAA8B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,GAAGnB,IAAI,KAAK,WAAW,gBAAIL,OAAA,CAACF,SAAS;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAAIxB,OAAA,CAACR,YAAY;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA,eAEzE,CAAC;AAEP,CAAC;AAAApB,EAAA,CAzCKD,SAAS;EAAA,QAGIP,WAAW;AAAA;AAAA6B,EAAA,GAHxBtB,SAAS;AA2Cf,eAAeA,SAAS;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}